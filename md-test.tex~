\documentclass[ltxlipsum,ltxshowframe]{ltxmdf}
\lstDeleteShortInline{|}
\usepackage[linecolor=red,linewidth=2pt,splittopskip=0cm]{mdframed}
\begin{document}
\lipsum[2]
\begin{mdframed}
\begin{itemize}
\item\lipsum[1]
%\item[foo] Text short
\item\lipsum[2]
\end{itemize}
\end{mdframed}
\lipsum[2]
\begin{mdframed}
\begin{itemize}
\item\lipsum[1]
%\item[foo] Text short
\item\lipsum[2]
\end{itemize}
\end{mdframed}
\end{document}

\documentclass[fleqn,11pt]{report}
\usepackage[margin=1cm]{geometry}
\usepackage{amsmath}
\usepackage[amsmath]{ntheorem}
\usepackage[ntheorem,framemethod=TikZ]{mdframed}
\makeatletter
\renewrobustcmd*\newmdtheoremenv{%
   \kernel@ifnextchar[%]
     {\newmdtheoremenv@i}{\newmdtheoremenv@i[]}%
}

\def\newmdtheoremenv@i[#1]#2{%
   \kernel@ifnextchar[%]
     {\newmdtheoremenv@ii[#1]#2}{\newmdtheoremenv@ii[#1]#2[]}%
}

\def\newmdtheoremenv@ii[#1]#2[#3]#4{%
    \kernel@ifnextchar[%]
     {\newmdtheoremenv@iii[#1]#2[#3]#4}{\newmdtheoremenv@iii[#1]#2[#3]#4[]}%
}

\def\newmdtheoremenv@iii[#1]#2[#3]#4[#5]{%
   \ifboolexpr{ test {\ifblank {#3}} and test {\ifblank {#5}} }%
   {%
     \newtheorem{#2}{#4}%
   }{%
      \ifboolexpr{ not (test {\ifblank {#3}}) and not (test {\ifblank {#5}}) }%
         {\md@PackageWarning{You can't such a comibination for newmdtheoremenv^^J
                             Instead mdframed uses newtheorem{#2}{#4}}%
          \newtheorem{#2}{#4}%
         }%
         {%
          \notblank{#3}{\newtheorem{#2}[#3]{#4}}{}%
          \notblank{#5}{\newtheorem{#2}{#4}[#5]}{}%
         }%
   }%
   \BeforeBeginEnvironment{#2}{\begin{mdframed}[#1]}%
   \AfterEndEnvironment{#2}{\end{mdframed}}%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newmdtheoremenv{theorem}{Theorem}    % uncomment this line
%\newtheorem{theorem}{Theorem}[chapter] % comment this line
\newtheorem{definition}[theorem]{Definition}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\begin{document}
text text text text text text text text text text text text  
\begin{definition}[Definition]
text text text text text text text text text text text text  
\end{definition}
text text text text text text text text text text text text  
\begin{theorem}[Theorem]
text text text text text text text text text text text text  
\end{theorem}
text text text text text text text text text text text text  
\end{document} 


%%$Id: md-test.tex 265 2011-12-08 18:01:52Z marco $ 
%%$Rev: 265 $
%%$Author: marco $
%%$Date: 2011-12-08 19:01:52 +0100 (Do, 08. Dez 2011) $
%%\documentclass{article}
%%\usepackage{tikz}
%%
%%\newbox\mybox
%%
%%\begin{document}
%%  \setbox\mybox=\hbox{this is a text that I want to measure}
%%\begin{tikzpicture}
%%  \node[draw] at (0,0) {text width is \the\wd\mybox, text heigh is \the\ht\mybox};
%%  \node[draw] at (0,-1) {text contents is \box\mybox};
%%\end{tikzpicture}
%%\end{document}


%\loggingall
\setcounter{errorcontextlines}{999}
%\tracingall
\listfiles
\documentclass[11pt,ngerman,twoside]{scrartcl}
\usepackage{babel,blindtext}
\usepackage{showframe}
\usepackage{microtype}
\usepackage{amsmath,ntheorem}
%Festlegung welcher Stildatei
% 0 := tex-Kommandos -- rule
% 1 := tikz
% 2 := tikz-erweitert
% 3 := pstricks-einfach
% 4 := pstricks-erweitert


\usepackage[%
%printheight=info,
framemethod=tikz,
%style=1,
%globalstyle=3,
linewidth=5pt,
linecolor=blue,
roundcorner=10,
%hidealllines=true,
%middlelinecolor=blue,
%backgroundcolor=yellow,
%margin=0pt,
%rightmargin=0cm,
%innertopmargin=0cm,
%innerbottommargin=0cm,
%innerleftmargin=0cm,
%innerrightmargin=0cm,
%%xcolor=cmyk,%
%splitbottomskip=0cm,
%globalstyle={0,1}
%innermargin=10pt,
%outermargin=40pt,
%footnoteinside=false,
%leftline=false
]{mdframed}


\usepackage{multicol}

\usepackage{lipsum}

\usepackage{svninfo}
\svnInfo $Id: md-test.tex 265 2011-12-08 18:01:52Z marco $

\mdfdefinestyle{marco}{leftmargin=1cm,rightmargin=1cm,linewidth=5pt ,}


\begin{document}
Test


\begin{mdframed}[backgroundcolor=yellow,fontcolor=red]
Text

Text\footnote{foo}

\lipsum[2]

\lipsum

\lipsum

TExt\footnote{bar}
\end{mdframed}


\noindent\smash{\hspace*{5pt}\rule[2.2cm]{7cm}{2pt}}\hfill\smash{\rule[1cm]{2.35cm}{2pt}}

\noindent\smash{\hspace*{5pt}\rule[2.2cm]{\dimexpr7cm-10pt\relax}{2pt}}
%\clearpage
\makeatletter
%\def\leftline#1{\makebox[\mdf@userdefinedwidth@length][l]{#1}}
%\begin{enumerate}
%\item \rule{\linewidth}{2pt}
%\item \mbox{}\vspace*{-\baselineskip}
\the\hsize\quad\the\linewidth\quad\the\mdf@userdefinedwidth@length


\begin{mdframed}[outermargin=1cm,innerbottommargin=1cm,skipbelow=1cm,footenotedistance=\bigskipamount]
Text

Text\footnote{foo}

\lipsum[2]\lipsum[2]

\lipsum

\the\hsize

TExt\footnote{bar}
\end{mdframed}
%\end{enumerate}


\lipsum[2]
%\end{multicols}

HHHALLLADAD

\lipsum[1-4]
%\enlargethispage{\baselineskip}

\begin{mdframed}[style=marco,needspace=5\baselineskip]
%        \lipsum
         \lipsum[1]
        \begin{itemize}
        \item Hallo
        \end{itemize}
\end{mdframed}

\end{document}
%\begin{beispiel}
%\lipsum
%\end{beispiel}
%\mdfsetup{style=0,linewidth=5pt, innertopmargin=0.75cm, innerbottommargin=1cm,%
%          linecolor=red,innerleftmargin=0.0cm,innerrightmargin=2cm, backgroundcolor=green,
%          splittopskip=2cm,splitbottomskip=1cm,skipabove=1cm,
%          }


\mdfsetup{%
%topline=false,
%bottomline=false,
%leftline=false,
%rightline=false,
%psroundlinecolor=yellow,
%linewidth=10,
%skipabove=0cm,
%splitbottomskip=1cm,
%splittopskip=2cm,
%roundcorner=20pt,
%pstrickssetting={linestyle=dashed},
%frametitle={Hallo Welt},
%frametitlefont=\itshape,
}

%\noindent\begin{minipage}{\linewidth}
%\begin{mdframed}[leftmargin=0cm,rightmargin=0cm,innertopmargin=1cm, innerbottommargin=1cm,,linewidth=20,
%                 innerleftmargin=1cm,innerrightmargin=1cm,backgroundcolor=green,linecolor=blue,]
%%        \lipsum
%         \lipsum[1]
%        \begin{itemize}
%        \item Hallo
%        \end{itemize}
%        \the\linewidth
%        \the\hsize
%        \the\textwidth
%        \the\columnwidth
%\end{mdframed}
%\end{minipage}
%\lipsum
%\vspace{15cm}

%marco \the\pagegoal\the\pagetotal
%%\clearpage
%%\the\pagegoal



\begin{mdframed}[style=marco,]
%        \lipsum
         \lipsum[1]
        \begin{itemize}
        \item Hallo
        \end{itemize}
\end{mdframed}
%\clearpage
Box 2

\begin{mdframed}%[leftmargin=2cm,rightmargin=1cm,linewidth=0.5cm]
        \lipsum[2]
\end{mdframed}

\end{document}

\clearpage
test
\clearpage

\begin{mdframed}%[leftmargin=2cm,rightmargin=1cm,linewidth=0.5cm]
        \lipsum[2-16]
\end{mdframed}

Absatz nach der geteilten Box
\clearpage

%\end{document}

\the\vsize

\svnInfoRevision
\footnote{Hallo}\footnote{Hallo}

%\mdfsetup{leftline=true,topline=true,rightline=true,bottomline=false,roundcorner=15}



Text  Text  Text  Text  Text  Text  Text  Text  Text  Text  Text  Text  
\[a+v\]
Text  Text  Text  Text  Text  Text  Text  Text  Text  Text  Text  Text
Text  Text  Text  Text  Text  Text  Text  Text  Text  Text  Text  Text
\begin{mdframed}[innerlinewidth=8pt,middlelinewidth=0.4cm,outerlinewidth=10pt,roundcorner=5pt,%
                 linewidth=0.4cm,innerleftmargin=0pt,innerrightmargin=0pt%
                 splittopskip=\baselineskip,backgroundcolor=yellow,%
                 innertopmargin=00pt,innerbottommargin=00pt,
                 leftmargin=0cm,innerleftmargin=0.0cm,innerrightmargin=0.0cm,
                 pstrickssetting={linestyle=dashed},]
 \lipsum[1-2]
\end{mdframed}       
\lipsum[1]

%%\clearpage
\newtheorem{mdtheorem}{Theorem}[section]
\newenvironment{theorem}{\begin{mdframed}%
   [linewidth=0.4cm,leftmargin=1cm,ntheorem=true,%
                 rightmargin=0cm,innerleftmargin=0cm,innerrightmargin=0cm,%
                 innertopmargin=00pt,innerbottommargin=0pt,%\topskip,%
                 pstrickssetting={linestyle=dashed},splittopskip=0cm,backgroundcolor=yellow,
%                 leftline=false,topline=false,rightline=true,bottomline=false,
                 ]%
%
   \begin{mdtheorem}}%
 {\end{mdtheorem}\end{mdframed}}
\begin{theorem}[Pythagorean theorem]
 In any right triangle, the area of the square whose side is the hypotenuse
 is equal to the sum of the areas of the\goodbreak squares whose sides are the two legs.

\[ a^2+b^2=c^2 \]
Hallo
 In any right triangle, the area of the square whose side is the hypotenuse
 is equal to the sum of the areas of the squares whose sides are the two legs.
 In any right triangle, the area of the square whose side is the hypotenuse
 is equal to the sum of the areas of the squares whose sides are the two legs.
\end{theorem}

Test

\begin{mdframed}[linewidth=0.3330cm,leftmargin=1cm,pstrickssetting={linestyle=solid},
                 rightmargin=0cm,innerleftmargin=0cm,innerrightmargin=0cm,%
                 innertopmargin=00pt,innerbottommargin=00pt,%\topskip,%
                 pstrickssetting={linestyle=dashed},splittopskip=1cm,backgroundcolor=yellow,
%                  leftline=true,topline=false,rightline=false,bottomline=false,
                 ]
Text  Text  Text  Text  Text  Text  Text  Text  Text  Text  Text  Text  
\[a+v+z\]
Text  Text  Text  Text  Text  Text  Text  Text  Text  Text  Text  Text
Text  Text  Text  Text  Text  Text  Text  Text  Text  Text  Text  Text
\lipsum
\lipsum\lipsum
\end{mdframed} 
\clearpage
%
%\begin{mdframed}[skipabove=0cm, outerlinewidth=4pt , linewidth=0.4cm, innerlinewidth=1cm ,%
%outerlinecolor=blue , middlelinecolor=yellow , innerlinecolor=red ,%
%backgroundcolor=orange,roundcorner=10pt,skipbelow=2cm,innerleftmargin=1cm,%
%]
%\lipsum[1]
%\end{mdframed}
%\clearpage
%\begin{mdframed}[skipabove=0cm, outerlinewidth=4pt , middlelinewidth=2pt , innerlinewidth=1pt ,%
%outerlinecolor=blue , middlelinecolor=yellow , innerlinecolor=red ,%
%backgroundcolor=orange,roundcorner=10pt,skipbelow=3cm]
%hallo
%\begin{itemize}
% \item HALLO
%\end{itemize}
%\begin{align}
%        x+y
%\end{align}
%\lipsum[1-22]
%\end{mdframed}
%Hier geht es weiter
%    \begin{lemma}Text
%           \begin{equation}
%               x+y=2
%           \end{equation}
%           \par\noindent\rule{\linewidth}{2pt}
%    \end{lemma}%
%\clearpage%
%\begin{mdframed}%
%Some Text with an first empy line. The is only text to fill the line. It has no sence.
%
%Some Text with an first empy line. The is only text to fill the line. It has no sence.
%\end{mdframed}
%
\clearpage
   \section{foo}
% % % % % % % % % % %
   \begin{lemma}
%        \lipsum[1]\lipsum[1]\lipsum[1]
        \begin{itemize}
          \item HALLO
        \end{itemize}
    \end{lemma}

   \begin{lemma}
      HALLO WELT!
   \end{lemma}
    \begin{lemma}\mbox{ }\par\noindent
               \rule{\linewidth}{4pt}
    \end{lemma}
    \begin{mdframed}
       \rule{\linewidth}{4pt}
     \end{mdframed}
    \begin{lemma}
          \lipsum[5]\lipsum[5]
          \lipsum[5]\lipsum[5]
    \end{lemma}
    \lipsum[1]%
    \begin{lemma}Text
           \begin{equation}
               x+y=2
           \end{equation}
           \par\noindent\rule{\linewidth}{2pt}
    \end{lemma}%
    
        \begin{lemma}\mbox{ }
                   \begin{equation}
                       x+y=2
                   \end{equation}
                   \par\noindent\rule{\linewidth}{2pt}
            \end{lemma}
    \begin{mdframed}%
           \lipsum[1]\par\noindent\rule{\linewidth}{2pt}
    \end{mdframed}

\end{document}
